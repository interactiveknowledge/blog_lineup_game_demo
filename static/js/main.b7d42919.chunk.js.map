{"version":3,"sources":["assets/map-1.png","assets/map-2.png","assets/map-3.png","elements/Boat.js","elements/Button.js","elements/DPad.js","elements/Target.js","elements/Game.js","elements/Header.js","elements/Modal.js","Lineup.js","index.js"],"names":["module","exports","Boat","styles","this","props","degrees","parseInt","transform","replace","shooterStyle","left","top","shooterTwinStyle","id","style","className","Component","Button","debounceAction","debounce","_handleClick","onClick","classes","disabled","label","toLowerCase","DPad","_handleAction","ArrowKeysReact","config","ready","w","right","e","up","n","down","s","type","direction","handleRotate","handleKeyPress","map","stage","events","Target","current","display","name","Game","componentDidMount","_loadImage","document","addEventListener","_keyboardPress","componentDidUpdate","prevProps","shooter","getElementById","shooterTwin","shooter2","shooter2Twin","parentNode","removeChild","width","setAttribute","_resetMapState","_doItForMe","top2","left2","transform2","_onClickMessage","setState","boat","setTimeout","_onClickDPad","_getCorrectRotation","degOffset","_getDegrees","state","substring","indexOf","_getDirection","_getPixel","x","y","d","getContext","getImageData","data","toString","slice","_handleKeyPress","key","boatStyle","getAttribute","newState","CloneDeep","message","multiplier","removeAttribute","_handleRotate","rotate","_isLandCollision","event","image","Image","context","canvas","clearRect","canvasWidth","canvasHeight","onload","drawImage","src","canvasImg1","canvasImg2","canvasImg3","height","_moveBoat","getBoundingClientRect","adjacent","angle","opposite","radians","forward","backward","coords","Math","abs","PI","sin","cos","ne","nw","se","sw","minY","maxX","maxY","minX","mapState","audioFire","audioEl","play","_onFire","getElementsByTagName","innerText","fire","layer","layerOffset","targets","getElementsByClassName","hits","fireRange","firing","setInterval","shooterBox","shooterTwinBox","y1","x1","y2","bottom","x2","i","length","targetBox","targetRange","offset","push","clearInterval","clone","cloneNode","clone2","appendChild","render","rotation","ref","m","updateMap","autoPlay","controls","loop","volume","controlsList","Header","infoClick","title","href","target","rel","Modal","close","maps","Lineup","_updateMap","_closeModal","modal","_loadSky","air","clouds","floor","random","birds","cloud","createElement","locationTop","locationLeft","transition","moveTop","bird","birdMoveTop","birdMoveLeft","_getModal","started","rootElement","ReactDOM"],"mappings":"gHAAAA,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,wMC0C5BC,E,iLAjCF,IACDC,EAAWC,KAAKC,MAAhBF,OAEFG,EACJC,SACEJ,EAAOK,UAAUC,QAAQ,UAAW,IAAIA,QAAQ,OAAQ,IACxD,IACE,IACAC,EAAe,CACnBC,KAAMR,EAAOQ,KAAO,GACpBC,IAAKT,EAAOS,IAAM,GAClBJ,UAAWL,EAAOK,WAEdK,EAAmB,CACvBF,KAAMR,EAAOQ,KAAO,GACpBC,IAAKT,EAAOS,IAAM,GAClBJ,UAAW,UAAYF,EAAU,QAGnC,OACE,yBAAKQ,GAAG,cACN,yBAAKA,GAAG,OAAOC,MAAOZ,IACtB,yBAAKW,GAAG,YAAYE,UAAU,UAAUD,MAAOL,IAC/C,yBAAKI,GAAG,iBAAiBE,UAAU,UAAUD,MAAOF,S,GAxBzCI,a,gBCiDJC,E,YA/Cb,WAAab,GAAQ,IAAD,8BAClB,4CAAMA,KAEDc,eAAiBC,IAAS,EAAKC,aAAc,KAHhC,E,4EAUdjB,KAAKC,MAAMiB,SACblB,KAAKC,MAAMiB,Y,+BAIJ,IAAD,SACyClB,KAAKC,MAA9CkB,EADA,EACAA,QAASC,EADT,EACSA,SAAUV,EADnB,EACmBA,GAAIW,EADvB,EACuBA,MAAOtB,EAD9B,EAC8BA,OACtC,OACE,4BACEa,UACE,UACAS,EAAMhB,QAAQ,gBAAiB,IAAIiB,eAClCH,EAAU,IAAMA,EAAU,IAE7BC,SAAUA,IAAY,EACtBV,GACEA,GAAM,UACFW,EAAMhB,QAAQ,gBAAiB,IAAIiB,cAEzCJ,QAAS,kBAAM,EAAKH,kBACpBJ,MAAOZ,GAAU,MAEhBsB,O,GAjCYR,a,gBCkJNU,E,YA3Ib,WAAatB,GAAQ,IAAD,8BAClB,4CAAMA,KAEDc,eAAiBC,IAAS,EAAKQ,cAAe,IAEnDC,IAAeC,OAAO,CACpBnB,KAAM,WACqB,QAArB,EAAKN,MAAM0B,MACb,EAAKZ,eAAe,WAAY,SACG,IAA1B,EAAKd,MAAMmB,SAASQ,GAC7B,EAAKb,eAAe,QAAS,MAGjCc,MAAO,WACoB,QAArB,EAAK5B,MAAM0B,MACb,EAAKZ,eAAe,WAAY,UACG,IAA1B,EAAKd,MAAMmB,SAASU,GAC7B,EAAKf,eAAe,QAAS,MAGjCgB,GAAI,WACuB,QAArB,EAAK9B,MAAM0B,MACb,EAAKZ,eAAe,QAAS,SACM,IAA1B,EAAKd,MAAMmB,SAASY,GAC7B,EAAKjB,eAAe,QAAS,MAGjCkB,KAAM,WACqB,QAArB,EAAKhC,MAAM0B,QAA6C,IAA1B,EAAK1B,MAAMmB,SAASc,GACpD,EAAKnB,eAAe,QAAS,QA7BjB,E,2EAwCLoB,EAAMC,GACN,UAATD,EAKS,aAATA,EAKS,WAATA,GACFnC,KAAKC,MAAMoC,aAAaD,GALxBpC,KAAKC,MAAMqC,eAAeF,GAL1BpC,KAAKC,MAAMiB,QAAQkB,K,+BAcZ,IAAD,SACgCpC,KAAKC,MAArCmB,EADA,EACAA,SAAUmB,EADV,EACUA,IAAKZ,EADf,EACeA,MAAOa,EADtB,EACsBA,MAE9B,OACE,uCAAK9B,GAAG,YAAee,IAAegB,QACpC,yBAAK7B,UAAU,SAAf,QACA,yBAAKF,GAAG,OAAOE,UAAS,gBAAW4B,EAAX,YAA6B,IAARD,GAAuB,IAAVC,EAAc,SAAW,MACjF,yBAAK5B,UAAU,SAAf,QAEA,kBAAC,EAAD,CACEO,QAAQ,KACRC,UAAyB,IAAfA,EAASY,EAAa,WAAa,KAC7CX,MAAiB,IAAVmB,EAAc,UAAY,KACjCtB,QAAS,kBAAM,EAAKH,eAAe,QAAS,QAG9C,yBAAKH,UAAU,SAAf,QAEA,kBAAC,EAAD,CACEO,QAAQ,OACRC,SAAoB,IAAVoB,IAA8B,IAAfpB,EAASQ,EAAa,WAAa,KAC5DP,MAAM,OACNH,QAAS,kBAAM,EAAKH,eAAe,QAAS,QAG9C,yBAAKH,UAAU,gBAAf,QAEA,kBAAC,EAAD,CACEO,QAAQ,QACRC,SAAoB,IAAVoB,IAA8B,IAAfpB,EAASU,EAAa,WAAa,KAC5DT,MAAM,QACNH,QAAS,kBAAM,EAAKH,eAAe,QAAS,QAG9C,yBAAKH,UAAU,SAAf,QAEA,kBAAC,EAAD,CACEO,QAAQ,OACRC,UAAyB,IAAfA,EAASc,EAAa,WAAa,KAC7Cb,MAAiB,IAAVmB,EAAc,OAAS,OAC9BtB,QAAS,kBAAM,EAAKH,eAAe,QAAS,QAG9C,yBAAKH,UAAU,SAAf,SAGF,yBAAKA,UAAU,SAAf,QAEA,yBAAKF,GAAG,QACN,kBAAC,EAAD,CACES,QAAQ,cACRE,MAAM,cACNH,QAAS,kBAAM,EAAKH,eAAe,SAAU,WAG/C,kBAAC,EAAD,CACEI,QAAQ,eACRE,MAAM,eACNH,QAAS,kBAAM,EAAKH,eAAe,SAAU,aAIjD,kBAAC,EAAD,CACEI,QAAS,eAAiBQ,EAC1BjB,GAAG,cACHW,MAAM,WACNH,QAAS,kBAAM,EAAKH,eAAe,QAAS,gB,GA3HnCF,aCuBJ6B,E,iLA5BX,IAAI3C,EAAS,KAWb,OALEA,EAHmC,IAAnCI,SAASH,KAAKC,MAAMuC,MAAO,KACU,IAArCrC,SAASH,KAAKC,MAAM0C,QAAS,IAEpB,CAAEC,QAAS,QAEX,CAAEA,QAAS,SAIpB,yBACElC,GAAIV,KAAKC,MAAM4C,KACfjC,UAAS,8BAAyBZ,KAAKC,MAAMuC,MAApC,mBAAoDxC,KAAKC,MAAM4C,MACxElC,MAAOZ,GAHT,S,GAdec,a,mDCg5BNiC,E,YAl4Bb,WAAa7C,GAAQ,IAAD,8BAClB,4CAAMA,KAaR8C,kBAAoB,WAClB,EAAKC,aAELC,SAASC,iBAAiB,WAAY,EAAKC,iBAjBzB,EAoBpBC,mBAAqB,SAACC,GACpB,GAAIA,EAAUd,MAAQ,EAAKtC,MAAMsC,IAAK,CAEpC,IAAMe,EAAUL,SAASM,eAAe,aAClCC,EAAcP,SAASM,eAAe,kBACtCE,EAAWR,SAASM,eAAe,aACnCG,EAAeT,SAASM,eAAe,kBAE7C,EAAKP,aAGLS,EAASE,WAAWC,YAAYN,GAChCI,EAAaC,WAAWC,YAAYJ,GAEpCC,EAAS9C,MAAMkD,MAAQ,EACvBH,EAAa/C,MAAMkD,MAAQ,EAE3BJ,EAASK,aAAa,QAAS,WAC/BJ,EAAaI,aAAa,QAAS,WACnCL,EAASK,aAAa,KAAM,aAC5BJ,EAAaI,aAAa,KAAM,kBAEhC,EAAKC,mBA1CW,EAiDpBC,WAAa,WACX,IAAIxD,EACAD,EACAH,EACA6D,EACAC,EACAC,EAEJ,OAAQ,EAAKlE,MAAMsC,KACjB,KAAK,EACH/B,EAAM,IACND,EAAO,IACPH,EAAY,iBACZ,MACF,KAAK,EACHI,EAAM,IACND,EAAO,IACPH,EAAY,iBACZ,MACF,KAAK,EACHI,EAAM,IACND,EAAO,IACPH,EAAY,iBAMZI,GAAOD,GAAQH,IACjB,EAAKgE,kBACL,EAAKC,SAAS,CACZC,KAAM,CACJ9D,IAAKA,EACLD,KAAMA,EACNH,UAAWA,KAIfmE,YAAW,WACT,EAAKC,aAAa,eACjB,MAEHD,YAAW,WAGT,OAFA,EAAKH,kBAEG,EAAKnE,MAAMsC,KACjB,KAAK,EACH0B,EAAO,IACPC,EAAQ,IACRC,EAAa,kBACb,MACF,KAAK,EACHF,EAAO,IACPC,EAAQ,IACRC,EAAa,mBACb,MACF,KAAK,EACHF,EAAO,IACPC,EAAQ,IACRC,EAAa,kBAMjB,EAAKE,SAAS,CACZC,KAAM,CACJ9D,IAAKyD,EACL1D,KAAM2D,EACN9D,UAAW+D,OAGd,MAEHI,YAAW,WACT,EAAKC,aAAa,eACjB,QA7Ha,EAoIpBC,oBAAsB,SAACvE,GACrB,IAAIwE,EAAYxE,EAAU,IAAMC,SAASD,EAAU,IAAK,IAiBxD,OAdIwE,EAAY,EACVA,EAAY,IACDA,EAAY,IAAM,IAElBA,EAGXA,GAAa,IACFA,EAAY,IAAM,IAElBA,GAlJC,EA4JpBC,YAAc,WACZ,IAAIzE,EAAU,EAEd,IACEA,EAAUC,SACR,EAAKyE,MAAMN,KAAKlE,UAAUyE,UACxB,EAAKD,MAAMN,KAAKlE,UAAU0E,QAAQ,KAAO,EACzC,EAAKF,MAAMN,KAAKlE,UAAU0E,QAAQ,QAEpC,IAEF,SACA5E,EAAU,EAGZ,OAAOA,GA3KW,EAmLpB6E,cAAgB,SAAC7E,GAGf,OAAgB,KAFhBA,EAAU,EAAKuE,oBAAoBvE,IAG1B,IACEA,EAAU,GAAKA,EAAU,GAC3B,KACc,KAAZA,EACF,IACEA,EAAU,IAAMA,EAAU,IAC5B,KACc,MAAZA,EACF,IACEA,GAAU,KAAWA,GAAU,GACjC,MACe,KAAbA,EACF,IACEA,GAAU,IAAUA,EAAU,EAChC,UADF,GApMW,EA+MpB8E,UAAY,SAACC,EAAGC,GACd,IAGMC,EAHSlC,SAASM,eAAe,aAChB6B,WAAW,MACRC,aAAaJ,EAAI,EAAGC,EAAI,EAAG,EAAG,GACpCI,KAGpB,OAAQ,UAFMH,EAAE,IAAM,GAAOA,EAAE,IAAM,EAAKA,EAAE,IAAII,SAAS,KAEjCC,OAAO,IAtNb,EA8NpBC,gBAAkB,SAACC,GACjB,IAAMC,EAAY1C,SAASM,eAAe,QAAQqC,aAAa,SACzDC,EAAWC,IAAU,EAAKlB,OAC5B1E,EAAUC,SACZwF,EAAUd,UAAUc,EAAUb,QAAQ,KAAO,EAAGa,EAAUb,QAAQ,QAClE,IAGF,GAAI,EAAKiB,QAAQH,aAAa,SAASd,QAAQ,UAAY,EAAG,CAC5D,OAAQY,GACN,IAAK,OACHxF,GAAoB,EAAK8F,WAAa,EACtC,MACF,IAAK,QACH9F,GAAoB,EAAK8F,WAAa,EAM1C/C,SAASM,eAAe,QAAQO,aAAa,QAAS,UAEtDS,YAAW,WACLtB,SAASM,eAAe,SAC1BN,SAASM,eAAe,QAAQ0C,gBAAgB,WAEjD,KAEHJ,EAASvB,KAAKlE,UAAY,UAAYF,EAAU,OAEhD,EAAKmE,SAASwB,KA5PE,EAwQpBK,cAAgB,SAACC,GACf,EAAKV,gBAAgBU,IAzQH,EAkRpBC,iBAAmB,SAACnB,EAAGC,GAOrB,OANyB,IAArB,EAAKN,MAAMpC,QACbyC,EAAI9E,SAAS8E,EAAG,IAChBC,EAAI/E,SAAS+E,EAAG,KAID,WAFH,EAAKF,UAAUC,EAAGC,IAvRd,EA+RpB/B,eAAiB,SAACkD,GACE,MAAdA,EAAMX,IACR,EAAKQ,cAAc,QACI,MAAdG,EAAMX,IACf,EAAKQ,cAAc,SACI,UAAdG,EAAMX,KACf,EAAKlB,aAAa,SArSF,EA4SpBxB,WAAa,WACX,IAAMsD,EAAQ,IAAIC,MACZC,EAAU,EAAKC,OAAOrB,WAAW,MAEvCoB,EAAQE,UAAU,EAAG,EAAG,EAAKC,YAAa,EAAKC,cAE/CN,EAAMO,OAAS,WACbL,EAAQM,UAAUR,EAAO,EAAG,EAAG,EAAKK,YAAa,EAAKC,eAGxDN,EAAMS,IACe,IAAnB,EAAK9G,MAAMsC,IACPyE,IACmB,IAAnB,EAAK/G,MAAMsC,IACT0E,IACAC,IACRZ,EAAMzC,MAAQ,EAAK8C,YACnBL,EAAMa,OAAS,EAAKP,cA7TF,EAqUpBQ,UAAY,SAAChF,GACX,IAAMkC,EAAOrB,SAASM,eAAe,QAAQ8D,wBACzCxB,EAAWC,IAAU,EAAKlB,OAE9B3B,SAASM,eAAe,QAAQO,aAAa,QAAS,UAEtDS,YAAW,WACLtB,SAASM,eAAe,SAC1BN,SAASM,eAAe,QAAQ0C,gBAAgB,WAEjD,KAEH,IAGIqB,EACAC,EACArH,EACAsH,EACAC,EACAC,EACAC,EATAnH,EAAMqF,EAASvB,KAAK9D,IACpBD,EAAOsF,EAASvB,KAAK/D,KASrByF,EAAa,EAAKA,WAGG,IAArB,EAAKpB,MAAMpC,QACbwD,EAAa,EAAKA,WAAa,IAGjC,IAAI4B,EAAS,CACX5F,EAAG,CACDiD,EAAG1E,EAAO+D,EAAKT,MAAQ,EACvBqB,EAAG1E,EAAMwF,GAEXlE,EAAG,CACDmD,EAAG1E,EAAOyF,EAAa1B,EAAKT,MAAQ,EACpCqB,EAAG1E,EAAM8D,EAAK6C,OAAS,GAEzBjF,EAAG,CACD+C,EAAG1E,EAAO+D,EAAKT,MAAQ,EACvBqB,EAAG1E,EAAMwF,EAAa1B,EAAK6C,OAAS,GAEtCvF,EAAG,CACDqD,EAAG1E,EAAOyF,EACVd,EAAG1E,EAAM8D,EAAK6C,OAAS,IAI3B,GAAyB,IAArB,EAAKvC,MAAMpC,QAA8B,MAAdJ,GAAmC,MAAdA,GAAoB,CACtE,IAAI9B,EAAe2C,SAChBM,eAAe,aACfqC,aAAa,SAEhB1F,EAAUC,SACRG,EAAauE,UACXvE,EAAawE,QAAQ,KAAO,EAC5BxE,EAAawE,QAAQ,QAEvB,IAEF4C,EAAU,EAAK3C,cAAc7E,GAC7ByH,EACEzH,GAAW,EACP,EAAK6E,eAAc,IAAU7E,GAC7B,EAAK6E,cAAc,IAAM7E,GAG/BqH,EACEM,KAAKC,IAAI5H,IAAY,GAAK,IAAM2H,KAAKC,IAAI5H,GAAW2H,KAAKC,IAAI5H,GAC/DuH,EAAUI,KAAKC,IAAIP,IAAUM,KAAKE,GAAK,KAKvCP,EAAWK,KAAKG,IAAIP,GAAWzB,EAE/BsB,EAAWO,KAAKI,IAAIR,GAAWzB,EAG7B5D,EADgB,MAAdA,EACU,EAAK2C,cAAc7E,GAE3BA,GAAW,EACD,EAAK6E,eAAc,IAAU7E,GAE7B,EAAK6E,cAAc,IAAM7E,GAK3C,OAAQkC,GACN,IAAK,IACH5B,GAAYwF,EACZ,MACF,IAAK,IACHxF,GAAYwF,EACZ,MACF,IAAK,IACHzF,GAAcyF,EACd,MACF,IAAK,IACHzF,GAAcyF,EACd,MACF,IAAK,KACHxF,GAAYgH,EACZjH,GAAc+G,EACd,MACF,IAAK,KACH9G,GAAYgH,EACZjH,GAAc+G,EACd,MACF,IAAK,KACH9G,GAAYgH,EACZjH,GAAc+G,EACd,MACF,IAAK,KACH9G,GAAYgH,EACZjH,GAAc+G,EAMO,IAArB,EAAK1C,MAAMpC,QACboF,EAAOM,GAAK,CACVjD,EAAG1E,EAAO+G,EACVpC,EAAG1E,EAAMgH,GAGXI,EAAOO,GAAK,CACVlD,EAAG1E,EAAO+G,EACVpC,EAAG1E,EAAMgH,GAGXI,EAAOQ,GAAK,CACVnD,EAAG1E,EAAO+G,EACVpC,EAAG1E,EAAMgH,GAGXI,EAAOS,GAAK,CACVpD,EAAG1E,EAAO+G,EACVpC,EAAG1E,EAAMgH,IAIb3B,EAASvB,KAAK9D,IAAMA,EACpBqF,EAASvB,KAAK/D,KAAOA,EAEI,IAArB,EAAKqE,MAAMpC,OACbqD,EAASzE,SAASY,EAChBxB,GAAO,EAAK8H,MAAQ,EAAKlC,iBAAiBwB,EAAO5F,EAAEiD,EAAG2C,EAAO5F,EAAEkD,EAAG,KACpEW,EAASzE,SAASU,EAChBvB,GAAQ,EAAKgI,MAAQ,EAAKnC,iBAAiBwB,EAAO9F,EAAEmD,EAAG2C,EAAO9F,EAAEoD,EAAG,KACrEW,EAASzE,SAASc,EAChB1B,GAAO,EAAKgI,MAAQ,EAAKpC,iBAAiBwB,EAAO1F,EAAE+C,EAAG2C,EAAO1F,EAAEgD,EAAG,KACpEW,EAASzE,SAASQ,EAChBrB,GAAQ,EAAKkI,MAAQ,EAAKrC,iBAAiBwB,EAAOhG,EAAEqD,EAAG2C,EAAOhG,EAAEsD,EAAG,OAErEW,EAASzE,SAASY,EAAI,EAAKoE,iBACzBwB,EAAOF,GAASzC,EAChB2C,EAAOF,GAASxC,GAElBW,EAASzE,SAASU,GAAI,EACtB+D,EAASzE,SAASQ,GAAI,EACtBiE,EAASzE,SAASc,EAAI,EAAKkE,iBACzBwB,EAAOD,GAAU1C,EACjB2C,EAAOD,GAAUzC,KAKK,IAAxBW,EAASzE,SAASY,IACM,IAAxB6D,EAASzE,SAASc,IACM,IAAxB2D,EAASzE,SAASQ,IACM,IAAxBiE,EAASzE,SAASU,IAElB+D,EAAW,EAAK5F,MAAMyI,UAGxB,EAAKrE,SAASwB,IAvfI,EA+fpBrB,aAAe,SAACpC,GACd,IAAMkC,EAAOrB,SAASM,eAAe,QAC/BD,EAAUL,SAASM,eAAe,WAAa,EAAKqB,MAAMpC,OAC1DgB,EAAcP,SAASM,eAC3B,WAAa,EAAKqB,MAAMpC,MAAQ,SAGlC,GAAIS,SAASM,eAAe,UAC1BN,SACGM,eAAe,QACfO,aAAa,QAAS,SAAW,EAAKc,MAAMpC,OAE3C,EAAKuD,QAAQH,aAAa,SAASd,QAAQ,UAAY,GACzD,OAAQ1C,GACN,IAAK,OACL,IAAK,YACHkB,EAAQ3C,MAAMH,IAAML,SAASmE,EAAK3D,MAAMH,IAAK,IAAM,GAAK,KACxD8C,EAAQ3C,MAAMJ,KAAOJ,SAASmE,EAAK3D,MAAMJ,KAAM,IAAM,GAAK,KAC1DiD,EAAY7C,MAAMH,IAAML,SAASmE,EAAK3D,MAAMH,IAAK,IAAM,GAAK,KAC5DgD,EAAY7C,MAAMJ,KAAOJ,SAASmE,EAAK3D,MAAMJ,KAAM,IAAM,GAAK,KAC9D+C,EAAQQ,aAAa,QAAS,gBAE9B,EAAK6E,UAAUC,QAAQC,OACvB,EAAKC,QAAQ,EAAKlE,MAAMpC,MAAOJ,GAC/B,MACF,QACE,EAAKgF,UAAUhF,KAzhBL,EAmiBpBgC,gBAAkB,WAChB,GAAI,EAAK2B,QAAS,CAChB,IAAMA,EAAU,EAAKA,QAAQgD,qBAAqB,KAClD,EAAKhD,QAAQjC,aAAa,QAAS,mCACnCS,YAAW,WACL,EAAKwB,UACPA,EAAQ,GAAGiD,UAAY,KACvB,EAAKjD,QAAQjC,aAAa,QAAS,cAEpC,OA5iBa,EAqjBpBgF,QAAU,SAACtG,EAAOyG,GAChB,IAAMpD,EAAWC,IAAU,EAAKlB,OAC1BsE,EAAQjG,SAASM,eAAe,cAChC4F,EAAclG,SACjBM,eAAe,aACf8D,wBACG/D,EAAUL,SAASM,eAAe,WAAa,EAAKqB,MAAMpC,OAC1DgB,EAAcP,SAASM,eAC3B,WAAa,EAAKqB,MAAMpC,MAAQ,SAE5B4G,EAAUnG,SAASoG,uBAAuB,gBAAkB7G,GAC5DuD,EAAU,EAAKA,QAAQgD,qBAAqB,KAG9C7I,EAAUC,SACZ0F,EAASvB,KAAKlE,UAAUC,QAAQ,UAAW,IAAIA,QAAQ,OAAQ,IAC/D,IAGI+B,EAAY,EAAK2C,cAAc7E,GAErC,GACE,EAAK6F,QAAQH,aAAa,SAASd,QAAQ,WAAa,GACxDoE,EAAMtD,aAAa,SAEnB,OAAO,EAGTsD,EAAMpF,aAAa,QAAS,YAC5BiC,EAAQ,GAAGiD,UAAY,KAEvB,IAAIpH,EAAI,EACJ0H,EAAO,GACPC,EAAY,GAEZC,EAASC,aAAY,WACvB7H,GAAQ,EACR0B,EAAQ3C,MAAMkD,MAAQjC,EAAI,KAC1B4B,EAAY7C,MAAMkD,MAAQjC,EAAI,KAE9B,IAAI8H,EAAalG,EAAY6D,wBACzBsC,EAAiBrG,EAAQ+D,wBAE7B,OAAQjF,GACN,IAAK,IACL,IAAK,KACL,IAAK,IACHmH,EAAY,CACVK,GAAIF,EAAWlJ,IAAM2I,EAAY3I,IACjCqJ,GAAIH,EAAWnJ,KACfuJ,GAAIH,EAAeI,OAASZ,EAAY3I,IACxCwJ,GAAIL,EAAe9H,OAErB,MACF,IAAK,IACL,IAAK,KACL,IAAK,IACH0H,EAAY,CACVK,GAAIF,EAAWK,OAASZ,EAAY3I,IACpCqJ,GAAIH,EAAW7H,MACfiI,GAAIH,EAAenJ,IAAM2I,EAAY3I,IACrCwJ,GAAIL,EAAepJ,MAErB,MACF,IAAK,KACL,IAAK,KACHgJ,EAAY,CACVK,GAAIF,EAAWlJ,IAAM2I,EAAY3I,IACjCqJ,GAAIH,EAAW7H,MACfiI,GAAIH,EAAeI,OAASZ,EAAY3I,IACxCwJ,GAAIL,EAAepJ,MAOzB,IAAK,IAAI0J,EAAI,EAAGA,EAAIb,EAAQc,OAAQD,IAAK,CACvC,IAAIE,EAAYf,EAAQa,GAAG5C,wBACvB+C,EAAc,CAChBlF,EAAGiF,EAAU3J,IAAM2I,EAAY3I,IAAM2J,EAAUhD,OAAS,EACxDlC,EAAGkF,EAAU5J,KAAO4J,EAAUtG,MAAQ,GAGpCwG,EAASF,EAAUtG,OAWT,KATXuG,EAAYlF,GAAKqE,EAAUK,GAAKS,GAC/BD,EAAYlF,GAAKqE,EAAUK,GAAKS,GAC/BD,EAAYnF,GAAKsE,EAAUM,GAAKQ,GAC/BD,EAAYnF,GAAKsE,EAAUM,GAAKQ,GACnCD,EAAYlF,GAAKqE,EAAUO,GAAKO,GAC/BD,EAAYlF,GAAKqE,EAAUO,GAAKO,GAC/BD,EAAYnF,GAAKsE,EAAUS,GAAKK,GAC/BD,EAAYnF,GAAKsE,EAAUS,GAAKK,KAEc,IAA9Bf,EAAKxE,QAAQsE,EAAQa,KACzCX,EAAKgB,KAAKlB,EAAQa,IAKtB,GACGV,EAAUK,GAAKT,EAAYY,QAAUR,EAAUO,GAAK,GACpDP,EAAUO,GAAKX,EAAYY,QAAUR,EAAUK,GAAK,GACpDL,EAAUM,GAAK,GAAKN,EAAUS,GAAKb,EAAYtH,OAC/C0H,EAAUS,GAAK,GAAKT,EAAUM,GAAKV,EAAYtH,OAChDD,EAAI,KAIJ,GAFA2I,cAAcf,GAEVF,EAAKY,SAAWd,EAAQc,QAA0B,IAAhBZ,EAAKY,OAAc,CACvD,GAAc,IAAV1H,EAAa,CACfuD,EAAQ,GAAGiD,UACT,oFACE,EAAKjD,SACP,EAAKA,QAAQjC,aACX,QACA,gCACEtB,EACA,IACAyG,EACA,oBAINpD,EAASrD,MAAQ,EACjBqD,EAASzE,SAASY,GAAI,EACtB6D,EAASzE,SAASU,GAAI,EACtB+D,EAASzE,SAASQ,GAAI,EACtBiE,EAASzE,SAASc,GAAI,EAEtB,IAAIsI,EAAQtB,EACTG,uBAAuB,WAAW,GAClCoB,WAAU,GACTC,EAASxB,EACVG,uBAAuB,WAAW,GAClCoB,WAAU,GACbnH,EAAQQ,aAAa,KAAM,aAC3BR,EAAQQ,aAAa,QAAS,WAC9BR,EAAQQ,aACN,QACA,iCACE5D,EACA,iBACA,EAAK0E,MAAMN,KAAKyF,OAChB,aACA,EAAKnF,MAAMN,KAAKzC,MAChB,MAEJ2B,EAAYM,aAAa,KAAM,kBAC/BN,EAAYM,aAAa,QAAS,WAClCN,EAAYM,aACV,QACA,iCACE5D,EACA,iBACA,EAAK0E,MAAMN,KAAKyF,OAChB,aACA,EAAKnF,MAAMN,KAAKzC,MAChB,MAGJqH,EAAMyB,YAAYH,GAClBtB,EAAMyB,YAAYD,QAElB3E,EAAQ,GAAGiD,UACT,wDAEE,EAAKjD,SAAW9C,SAASM,eAAe,UAC1C,EAAKwC,QAAQjC,aACX,QACA,gCACEtB,EACA,SACA,EAAKvC,MAAMsC,IACX,oBAEJU,SACGM,eAAe,QACfO,aAAa,QAAS,cAEzBS,YAAW,WACLtB,SAASM,eAAe,SAC1BN,SACGM,eAAe,QACfO,aAAa,QAAS,cAG3BiC,EAAQ,GAAGiD,UACT,EAAK/I,MAAMsC,KAAO,EACd,sCACA,mDACF,EAAKwD,SACP,EAAKA,QAAQjC,aACX,QACA,gCACEtB,EACA,QACA,EAAKvC,MAAMsC,IACX,sBAGL,MAIP,EAAK8B,SAASwB,GACdqD,EAAMjD,gBAAgB,aACjB,CAGL,GAFAF,EAAQ,GAAGiD,UAAY,iCAEnB,EAAKjD,SAAWzC,GAAWE,EAAa,CAC1C,EAAKuC,QAAQjC,aACX,QACA,6BAA+BtB,EAAQ,oBAGzCc,EAAQ3C,MAAMkD,MAAQ,EACtBL,EAAY7C,MAAMkD,MAAQ,EAC1BP,EAAQQ,aAAa,QAAS,WAC9BN,EAAYM,aAAa,QAAS,WAClC,IAAK,IAAImG,EAAI,EAAGA,EAAIb,EAAQc,OAAQD,IAClCb,EAAQa,GAAGnG,aAAa,QAAS,IAIrCoF,EAAMjD,gBAAgB,YAGzB,OA1xBe,EAgyBpBlC,eAAiB,WACf,EAAKM,SAAS,EAAKpE,MAAMyI,WAjyBP,EAoyBpBkC,OAAS,WACP,IAAI1K,EAAU,EAAKyE,cAEnB,OACE,yBAAK/D,UAAU,gBACb,kBAAC,EAAD,CACE0B,eAAgB,EAAKmD,gBACrBpD,aAAc,EAAK6D,cACnBhF,QAAS,EAAKsD,aACdpD,SAAU,EAAKwD,MAAMxD,SACrBO,MAAO,EAAKiD,MAAMjD,MAClBkJ,SAAU,EAAKjG,MAAMN,KAAKlE,UAC1BoC,MAAO,EAAKoC,MAAMpC,MAClBD,IAAK,EAAKtC,MAAMsC,MAGlB,4BACEuI,IAAK,SAAChJ,GACJ,EAAK2E,OAAS3E,GAEhBpB,GAAG,YACHmD,MAAO,EAAK8C,YACZQ,OAAQ,EAAKP,eAEf,yBACElG,GAAG,MACHE,UAAS,wCAAmC,EAAKX,MAAMsC,MACvD,kBAAC,EAAD,CAAQM,KAAK,QAAQL,MAAM,IAAIG,QAAS,EAAKiC,MAAMpC,QACnD,kBAAC,EAAD,CAAQK,KAAK,QAAQL,MAAM,IAAIG,QAAS,EAAKiC,MAAMpC,QACnD,kBAAC,EAAD,CAAQK,KAAK,QAAQL,MAAM,IAAIG,QAAS,EAAKiC,MAAMpC,QACnD,kBAAC,EAAD,CAAQK,KAAK,QAAQL,MAAM,IAAIG,QAAS,EAAKiC,MAAMpC,QAEnD,kBAAC,EAAD,CACEzC,OAAQ,EAAK6E,MAAMN,KACnB9B,MAAO,EAAKoC,MAAMpC,MAClBtC,QAAS,EAAKuE,oBAAoBvE,KAGpC,yBAAKQ,GAAG,cAER,yBACEoK,IAAK,SAACC,GACJ,EAAKhF,QAAUgF,GAEjBnK,UAAU,WACV,4BACA,kBAAC,EAAD,CACES,MAAM,KACNH,QAAS,WACP,EAAKkD,qBAGT,kBAAC,EAAD,CAAQ/C,MAAM,eAAeH,QAAS,kBAAM,EAAK8C,gBACjD,kBAAC,EAAD,CACE3C,MAAM,WACNH,QAAS,WACP,EAAKjB,MAAM+K,UAAU,EAAK/K,MAAMsC,IAAM,MAG1C,kBAAC,EAAD,CACElB,MAAM,UACNH,QAAS,kBAAM,EAAKjB,MAAM+K,UAAU,QAK1C,kBAAC,IAAD,CACEjE,IAA8B,iCAC9BkE,UAAQ,EACRC,UAAU,EACVC,MAAI,EACJC,OAAQ,KAGV,kBAAC,IAAD,CACEN,IAAK,SAAChJ,GACJ,EAAK6G,UAAY7G,GAEnBiF,IAA8B,gCAC9BkE,UAAU,EACVC,UAAU,EACVG,aAAa,iBAl3BnB,EAAK1E,YAAc,IACnB,EAAKC,aAAe,IACpB,EAAK6B,KAAO,GACZ,EAAKF,KAAO,IACZ,EAAKD,KAAO,GACZ,EAAKE,KAAO,IACZ,EAAKxC,WAAa,GAElB,EAAKpB,MAAQ,EAAK3E,MAAMyI,SAXN,E,2BADH7H,aCuCJyK,E,YAlDb,WAAarL,GAAQ,IAAD,8BAClB,4CAAMA,KAEDc,eAAiBC,IAAS,EAAKC,aAAc,KAHhC,E,0EAUNkB,GACC,SAATA,GACFnC,KAAKC,MAAMsL,c,+BAIJ,IAAD,OACR,OACE,yBAAK3K,UAAU,UACb,4BAAKZ,KAAKC,MAAMuL,OAChB,mDACuB,IACrB,uBACEC,KAAK,oCACLC,OAAO,SACPC,IAAI,uBAHN,mCAKK,IAPP,KAQK,IACH,uBACEF,KAAK,mCACLC,OAAO,SACPC,IAAI,uBAHN,yBATF,0BAiBA,yBAAK/K,UAAU,OAAOM,QAAS,kBAAM,EAAKH,eAAe,UAAzD,oB,GAtCaF,aC0DN+K,E,YAvDb,WAAa3L,GAAQ,IAAD,8BAClB,4CAAMA,KASRgB,aAAe,SAAAkB,GACA,UAATA,GACF,EAAKlC,MAAM4L,SATb,EAAK9K,eAAiBC,IAAS,EAAKC,aAAc,KAHhC,E,sEAgBT,IAAD,OACR,OACE,yBAAKP,GAAG,QAAQE,UAAU,SACxB,yBAAKF,GAAG,mBAAmBE,UAAU,oBACnC,yBAAKA,UAAU,QAAQM,QAAS,kBAAM,EAAKH,eAAe,WAA1D,SAIA,yBAAKL,GAAG,cAAcE,UAAU,eAC9B,qDACA,yBAAKA,UAAU,QACb,6DAC4B,wCAD5B,yCAGA,8DAC6B,wCAD7B,2BACgE,qCADhE,oBACyF,qCADzF,eACmH,KAEnH,uFAEE,4CAFF,mBAEiC,yCAFjC,gBAKF,kBAAC,EAAD,CACES,MAAM,KACNH,QAAS,WACP,EAAKH,eAAe,mB,GA1ChBF,aCEdyE,EAAO,CACXwG,KAAM,CACJ,CACExH,KAAM,CAAE9D,IAAK,IAAKD,KAAM,IAAKH,UAAW,iBACxCgB,SAAU,CAAEY,GAAG,EAAOF,GAAG,EAAMI,GAAG,EAAMN,GAAG,GAC3CD,MAAO,QACPa,MAAO,GAET,CACE8B,KAAM,CAAE9D,IAAK,IAAKD,KAAM,IAAKH,UAAW,kBACxCgB,SAAU,CAAEY,GAAG,EAAOF,GAAG,EAAOI,GAAG,EAAMN,GAAG,GAC5CD,MAAO,QACPa,MAAO,GAET,CACE8B,KAAM,CAAE9D,IAAK,IAAKD,KAAM,IAAKH,UAAW,gBACxCgB,SAAU,CAAEY,GAAG,EAAOF,GAAG,EAAMI,GAAG,EAAMN,GAAG,GAC3CD,MAAO,QACPa,MAAO,KAuNEuJ,E,2MAjNbnH,MAAQ,CACNrC,IAAK,EACLmG,SAAUpD,EAAKwG,KAAK,I,EAGtB/I,kBAAoB,WAClB,EAAKiJ,WAAW,I,EAMlBC,YAAc,WACZ,IAAMC,EAAQjJ,SAASM,eAAe,SAEtC2I,EAAMpI,aAAa,QAAS,0BAC5BS,YAAW,WACL2H,GACFA,EAAMpI,aAAa,QAAS,mBAE7B,M,EAMLqI,SAAW,WACT,IAAMC,EAAMnJ,SAASM,eAAe,aAC9B8I,EAASxE,KAAKyE,MAAsB,EAAhBzE,KAAK0E,UAAgB,EACzCC,EAAQ3E,KAAKyE,MAAsB,EAAhBzE,KAAK0E,UAAgB,EAI9C,GAAIH,EAAK,CACPA,EAAIpD,UAAY,KAEhB,IAHO,eAGEiB,GACP,IAAIwC,EAAQxJ,SAASyJ,cAAc,OAC/BC,EAAc9E,KAAKyE,MAAsB,IAAhBzE,KAAK0E,UAC9BK,EAAe/E,KAAKyE,MAAsB,IAAhBzE,KAAK0E,UAC/BM,EAAahF,KAAKyE,MAAM,GAAAzE,KAAK0E,SAVzB,IAWJO,EAAUjF,KAAKyE,MACjBzE,KAAK0E,UAAY,IAAOI,EAAc,GAAKA,GAG7CF,EAAM3I,aACJ,QACA,gBAAkB+D,KAAKyE,MAAsB,EAAhBzE,KAAK0E,UAAgB,IAEpDE,EAAM3I,aACJ,QACA,QACE6I,EACA,aACAC,EACA,uBACAC,EACA,aAEJT,EAAIzB,YAAY8B,GAEhBlI,YAAW,WACLkI,GACFA,EAAM3I,aACJ,QACA,QACEgJ,EACA,qCACAD,EACA,iBAjCD5C,EAAI,EAAGA,EAAIoC,EAAQpC,IAAM,IAuClC,IA1CO,eA0CEA,GACP,IAAI8C,EAAO9J,SAASyJ,cAAc,OAC9BC,EAAc9E,KAAKyE,MAAsB,IAAhBzE,KAAK0E,UAC9BK,EAAe/E,KAAKyE,MAAsB,IAAhBzE,KAAK0E,UAC/BM,EAAahF,KAAKyE,MAAM,GAAAzE,KAAK0E,SAjDzB,IAkDJS,EAAcnF,KAAK0E,SAAW,KAAQ,IAAM,IAC5CU,EAAepF,KAAK0E,SAAW,KAAQ,IAAM,IAC7CnM,EAAY,KAEZuM,EAAc,MAChBA,EAAc,KAGZK,EAAc,GAAKC,EAAe,EACpC7M,GAAa,IACJ4M,EAAc,GAAKC,EAAe,EAC3C7M,GAAa,GACJ4M,EAAc,GAAKC,EAAe,EAC3C7M,EAAY,IACH4M,EAAc,GAAKC,EAAe,IAC3C7M,EAAY,IAGd2M,EAAKjJ,aACH,QACA,cAAgB+D,KAAKyE,MAAsB,EAAhBzE,KAAK0E,UAAgB,IAElDQ,EAAKjJ,aACH,QACA,QACE6I,EACA,aACAC,EACA,yBACAxM,EACA,SAEJgM,EAAIzB,YAAYoC,GAEhBxI,YAAW,WACLwI,GACFA,EAAKjJ,aACH,QACA,QACEkJ,EACA,aACAC,EACA,yBACA7M,EACA,yBACAyM,EACA,eAGL,MAtDI5C,EAAI,EAAGA,EAAIuC,EAAOvC,IAAM,SAyDjC1F,YAAW,WACLtB,SAASM,eAAe,cAC1B,EAAK4I,aAEN,M,EAOPe,UAAY,WACV,IAAMhB,EAAQjJ,SAASM,eAAe,SAEtC2I,EAAMpI,aAAa,QAAS,kBAC5BoI,EAAMpI,aAAa,QAAS,0B,EAO9BkI,WAAa,SAAAzJ,GACX,EAAK8B,SAAS,CACZ8I,SAAS,EACT5K,IAAKA,EACLmG,SAAUpD,EAAKwG,KAAKvJ,EAAM,KAG5B,IAAMwD,EAAU9C,SAASoG,uBAAuB,WAE5CtD,EAAQmE,OAAS,IACnBnE,EAAQ,GAAGjC,aAAa,QAAS,mCACjCS,YAAW,WACLwB,GACFA,EAAQ,GAAGjC,aAAa,QAAS,aAElC,MAGLb,SAASM,eAAe,QAAQO,aAAa,QAAS,IAEtD,EAAKqI,Y,wEAGI,IAAD,OACR,OACE,yBAAKvL,UAAU,eACb,yBACEA,UACE,0DACAZ,KAAK4E,MAAMrC,KAGb,kBAAC,EAAD,CACEiJ,MAAM,iBACND,UAAW,kBAAM,EAAK2B,UAAU,GAAG,MAEpClN,KAAK4E,MAAM8D,UACV,kBAAC,EAAD,CACEnG,IAAKvC,KAAK4E,MAAMrC,IAChByI,UAAWhL,KAAKgM,WAChBtD,SAAU1I,KAAK4E,MAAM8D,WAIzB,kBAAC,EAAD,CACEmD,MAAO,WACL,EAAKI,uB,GAzMEpL,a,MCrBrB,IAAMuM,EAAcnK,SAASM,eAAe,QAC5C8J,IAASzC,OAAO,mBAThB,WACE,OACE,yBAAKhK,UAAU,OACb,kBAAC,EAAD,SAMU,MAASwM,K","file":"static/js/main.b7d42919.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/map-1.df33bcfe.png\";","module.exports = __webpack_public_path__ + \"static/media/map-2.e5f72aad.png\";","module.exports = __webpack_public_path__ + \"static/media/map-3.3ce7a3b4.png\";","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\n/**\n * Boat component used in GameLineup.js compontent\n * @type {Object}\n */\n\nclass Boat extends Component {\n  render () {\n    const { styles } = this.props\n\n    const degrees =\n      parseInt(\n        styles.transform.replace('rotate(', '').replace('deg)', ''),\n        10\n      ) - 180\n    const shooterStyle = {\n      left: styles.left + 55,\n      top: styles.top + 46,\n      transform: styles.transform\n    }\n    const shooterTwinStyle = {\n      left: styles.left + 58,\n      top: styles.top + 46,\n      transform: 'rotate(' + degrees + 'deg)'\n    }\n\n    return (\n      <div id='boat-layer'>\n        <div id='boat' style={styles} />\n        <div id='shooter-1' className='shooter' style={shooterStyle} />\n        <div id='shooter-1-twin' className='shooter' style={shooterTwinStyle} />\n      </div>\n    )\n  }\n}\n\nBoat.propTypes = {\n  styles: PropTypes.object\n}\n\nexport default Boat\n","import React, { Component } from 'react'\nimport debounce from 'lodash.debounce'\nimport PropTypes from 'prop-types'\n\n/**\n * Generic button compontent used throughout the site.\n * @type {Object}\n */\n\nclass Button extends Component {\n  constructor (props) {\n    super(props)\n\n    this.debounceAction = debounce(this._handleClick, 500)\n  }\n\n  /**\n   * Handles a debounced click action.\n   */\n  _handleClick () {\n    if (this.props.onClick) {\n      this.props.onClick()\n    }\n  }\n\n  render () {\n    const { classes, disabled, id, label, styles } = this.props\n    return (\n      <button\n        className={\n          'button-' +\n          label.replace(/[^a-zA-Z0-9]/g, '').toLowerCase() +\n          (classes ? ' ' + classes : '')\n        }\n        disabled={disabled || false}\n        id={\n          id || 'button-' +\n              label.replace(/[^a-zA-Z0-9]/g, '').toLowerCase()\n        }\n        onClick={() => this.debounceAction()}\n        style={styles || null}\n      >\n        {label}\n      </button>\n    )\n  }\n}\n\nButton.propTypes = {\n  classes: PropTypes.string,\n  disabled: PropTypes.string,\n  id: PropTypes.string,\n  label: PropTypes.string,\n  onClick: PropTypes.func,\n  styles: PropTypes.object\n}\n\nexport default Button\n","import React, { Component } from 'react'\nimport ArrowKeysReact from 'arrow-keys-react'\nimport debounce from 'lodash.debounce'\nimport PropTypes from 'prop-types'\n\n/**\n * Dpad compontent used in GameLocation.js to move Boat component.\n * @type {Object}\n *\n * @uses arrow-keys-react\n * @uses react-swipeable\n */\n\nimport Button from './Button'\n\nclass DPad extends Component {\n  constructor (props) {\n    super(props)\n\n    this.debounceAction = debounce(this._handleAction, 50)\n\n    ArrowKeysReact.config({\n      left: () => {\n        if (this.props.ready === 'aim') {\n          this.debounceAction('keypress', 'left')\n        } else if (this.props.disabled.w !== true) {\n          this.debounceAction('click', 'w')\n        }\n      },\n      right: () => {\n        if (this.props.ready === 'aim') {\n          this.debounceAction('keypress', 'right')\n        } else if (this.props.disabled.e !== true) {\n          this.debounceAction('click', 'e')\n        }\n      },\n      up: () => {\n        if (this.props.ready === 'aim') {\n          this.debounceAction('click', 'fire')\n        } else if (this.props.disabled.n !== true) {\n          this.debounceAction('click', 'n')\n        }\n      },\n      down: () => {\n        if (this.props.ready !== 'aim' && this.props.disabled.s !== true) {\n          this.debounceAction('click', 's')\n        }\n      }\n    })\n  }\n\n  /**\n   * Handles a debounced click action.\n   * @param {enum} type string. expects either \"click\" or \"rotate\" or \"keypress\"\n   * @param {string} direction string that determines which button the user has clicked.\n   */\n  _handleAction (type, direction) {\n    if (type === 'click') {\n      this.props.onClick(direction)\n      return\n    }\n\n    if (type === 'keypress') {\n      this.props.handleKeyPress(direction)\n      return\n    }\n\n    if (type === 'rotate') {\n      this.props.handleRotate(direction)\n    }\n  }\n\n  render () {\n    const { disabled, map, ready, stage } = this.props\n\n    return (\n      <div id='controls' {...ArrowKeysReact.events}>\n        <div className='label'>Move</div>\n        <div id='dpad' className={`stage-${stage} ${(map === 1 && stage === 1 ? ' start' : ' ')}`}>\n          <div className='blank'>&nbsp;</div>\n\n          <Button\n            classes='up'\n            disabled={disabled.n === true ? 'disabled' : null}\n            label={stage === 2 ? 'forward' : 'up'}\n            onClick={() => this.debounceAction('click', 'n')}\n          />\n\n          <div className='blank'>&nbsp;</div>\n\n          <Button\n            classes='left'\n            disabled={stage === 2 || disabled.w === true ? 'disabled' : null}\n            label='left'\n            onClick={() => this.debounceAction('click', 'w')}\n          />\n\n          <div className='blank center'>Move</div>\n\n          <Button\n            classes='right'\n            disabled={stage === 2 || disabled.e === true ? 'disabled' : null}\n            label='right'\n            onClick={() => this.debounceAction('click', 'e')}\n          />\n\n          <div className='blank'>&nbsp;</div>\n\n          <Button\n            classes='down'\n            disabled={disabled.s === true ? 'disabled' : null}\n            label={stage === 2 ? 'back' : 'down'}\n            onClick={() => this.debounceAction('click', 's')}\n          />\n\n          <div className='blank'>&nbsp;</div>\n        </div>\n\n        <div className='label'>Turn</div>\n\n        <div id='turn'>\n          <Button\n            classes='rotate left'\n            label='Rotate Left'\n            onClick={() => this.debounceAction('rotate', 'left')}\n          />\n\n          <Button\n            classes='rotate right'\n            label='Rotate Right'\n            onClick={() => this.debounceAction('rotate', 'right')}\n          />\n        </div>\n\n        <Button\n          classes={'fire-button ' + ready}\n          id='fire-button'\n          label='Found It'\n          onClick={() => this.debounceAction('click', 'fire')}\n        />\n      </div>\n    )\n  }\n}\n\nDPad.propTypes = {\n  disabled: PropTypes.object,\n  handleKeyPress: PropTypes.func,\n  handleRotate: PropTypes.func,\n  map: PropTypes.number,\n  onClick: PropTypes.func,\n  ready: PropTypes.string,\n  stage: PropTypes.number\n}\n\nexport default DPad\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\n/**\n * Target component is used in GameLocation.js as the \"targets\" where the Boat needs to line up with.\n * @type {Object}\n */\n\nclass Target extends Component {\n  render () {\n    let styles = null\n\n    if (\n      parseInt(this.props.stage, 10) === 2 &&\n      parseInt(this.props.current, 10) === 1\n    ) {\n      styles = { display: 'none' }\n    } else {\n      styles = { display: 'block' }\n    }\n\n    return (\n      <div\n        id={this.props.name}\n        className={`target target-stage-${this.props.stage} target-${this.props.name}`}\n        style={styles}>\n        X\n      </div>\n    )\n  }\n}\n\nTarget.propTypes = {\n  current: PropTypes.number,\n  name: PropTypes.string,\n  stage: PropTypes.number\n}\n\nexport default Target\n","import React, { Component } from 'react'\nimport AudioPlayer from 'react-audio-player'\nimport CloneDeep from 'clone-deep'\nimport PropTypes from 'prop-types'\n\n/**\n * The interactive game of the GameLineup.js activity.\n *\n * @type {Object}\n * @uses clone-deep\n */\n\nimport Boat from './Boat'\nimport Button from './Button'\nimport DPad from './DPad'\nimport Target from './Target'\n\nimport canvasImg1 from '../assets/map-1.png'\nimport canvasImg2 from '../assets/map-2.png'\nimport canvasImg3 from '../assets/map-3.png'\n\nclass Game extends Component {\n  constructor (props) {\n    super(props)\n\n    this.canvasWidth = 900\n    this.canvasHeight = 680\n    this.minX = 20\n    this.maxX = 800\n    this.minY = 20\n    this.maxY = 580\n    this.multiplier = 30\n\n    this.state = this.props.mapState\n  }\n\n  componentDidMount = () => {\n    this._loadImage()\n\n    document.addEventListener('keypress', this._keyboardPress)\n  };\n\n  componentDidUpdate = (prevProps) => {\n    if (prevProps.map !== this.props.map) {\n      // if we have a new map. Let's update our image and reset the board.\n      const shooter = document.getElementById('shooter-1')\n      const shooterTwin = document.getElementById('shooter-1-twin')\n      const shooter2 = document.getElementById('shooter-2')\n      const shooter2Twin = document.getElementById('shooter-2-twin')\n\n      this._loadImage()\n\n      // Resets all our shooters.\n      shooter2.parentNode.removeChild(shooter)\n      shooter2Twin.parentNode.removeChild(shooterTwin)\n\n      shooter2.style.width = 0\n      shooter2Twin.style.width = 0\n\n      shooter2.setAttribute('class', 'shooter')\n      shooter2Twin.setAttribute('class', 'shooter')\n      shooter2.setAttribute('id', 'shooter-1')\n      shooter2Twin.setAttribute('id', 'shooter-1-twin')\n\n      this._resetMapState()\n    }\n  }\n\n  /**\n   * If user misses, offer a \"do it for me\" option to auto finish the game.\n   */\n  _doItForMe = () => {\n    let top\n    let left\n    let transform\n    let top2\n    let left2\n    let transform2\n\n    switch (this.props.map) {\n      case 1:\n        top = 420\n        left = 650\n        transform = 'rotate(101deg)'\n        break\n      case 2:\n        top = 340\n        left = 460\n        transform = 'rotate(133deg)'\n        break\n      case 3:\n        top = 320\n        left = 668\n        transform = 'rotate(121deg)'\n        break\n      default:\n        break\n    }\n\n    if (top && left && transform) {\n      this._onClickMessage()\n      this.setState({\n        boat: {\n          top: top,\n          left: left,\n          transform: transform\n        }\n      })\n\n      setTimeout(() => {\n        this._onClickDPad('fire-auto')\n      }, 1500)\n\n      setTimeout(() => {\n        this._onClickMessage()\n\n        switch (this.props.map) {\n          case 1:\n            top2 = 343\n            left2 = 662\n            transform2 = 'rotate(20.5deg)'\n            break\n          case 2:\n            top2 = 340\n            left2 = 460\n            transform2 = 'rotate(223.5deg)'\n            break\n          case 3:\n            top2 = 423\n            left2 = 606\n            transform2 = 'rotate(33.5deg)'\n            break\n          default:\n            break\n        }\n\n        this.setState({\n          boat: {\n            top: top2,\n            left: left2,\n            transform: transform2\n          }\n        })\n      }, 3800)\n\n      setTimeout(() => {\n        this._onClickDPad('fire-auto')\n      }, 5300)\n    }\n  }\n\n  /**\n   * Get the Boat element's correct rotation.\n   */\n  _getCorrectRotation = (degrees) => {\n    let degOffset = degrees - 360 * parseInt(degrees / 360, 10)\n    let newDegrees = degrees\n\n    if (degOffset > 0) {\n      if (degOffset > 180) {\n        newDegrees = degOffset - 180 - 180\n      } else {\n        newDegrees = degOffset\n      }\n    } else {\n      if (degOffset < -180) {\n        newDegrees = degOffset + 180 + 180\n      } else {\n        newDegrees = degOffset\n      }\n    }\n\n    return newDegrees\n  }\n\n  /**\n   * Get the degrees the boat is rotated.\n   */\n  _getDegrees = () => {\n    let degrees = 0\n\n    try {\n      degrees = parseInt(\n        this.state.boat.transform.substring(\n          this.state.boat.transform.indexOf('(') + 1,\n          this.state.boat.transform.indexOf('deg')\n        ),\n        10\n      )\n    } catch {\n      degrees = 0\n    }\n\n    return degrees\n  }\n\n  /**\n   * Helper method to determine which direction we're moving getting the transform: rotate(Xdeg) style attribute.\n   * @param  {integer} degrees rotation degrees value from style transform attribute.\n   * @return {string}         direction abbreviation (i.e. n = North)\n   */\n  _getDirection = (degrees) => {\n    degrees = this._getCorrectRotation(degrees)\n\n    if (degrees === 0) {\n      return 'w'\n    } else if (degrees > 0 && degrees < 90) {\n      return 'nw'\n    } else if (degrees === 90) {\n      return 'n'\n    } else if (degrees > 90 && degrees < 180) {\n      return 'ne'\n    } else if (degrees === 180) {\n      return 'e'\n    } else if (degrees > 0 - 180 && degrees < 0 - 90) {\n      return 'se'\n    } else if (degrees === -90) {\n      return 's'\n    } else if (degrees > 0 - 90 && degrees < 0) {\n      return 'sw'\n    }\n  }\n\n  /**\n   * Helper method for getting pixel location from a canvas element.\n   * @param  {integer} x x coordiante\n   * @param  {integer} y y coordinate\n   * @return {string}   calculated (numerical) hexcode for the coordinates given on the canvas element.\n   */\n  _getPixel = (x, y) => {\n    const canvas = document.getElementById('map-layer')\n    const context = canvas.getContext('2d')\n    const imageData = context.getImageData(x - 1, y - 1, 1, 1)\n    const d = imageData.data\n    const rgb = ((d[0] << 16) | (d[1] << 8) | d[2]).toString(16)\n\n    return ('000000' + rgb).slice(-6)\n  }\n\n  /**\n   * Method to help if user does not have touch capability.\n   * @param  {string} key string of key description (i.e. \"left\")\n   * @return {event}     state change\n   */\n  _handleKeyPress = (key) => {\n    const boatStyle = document.getElementById('boat').getAttribute('style')\n    const newState = CloneDeep(this.state)\n    let degrees = parseInt(\n      boatStyle.substring(boatStyle.indexOf('(') + 1, boatStyle.indexOf('deg')),\n      10\n    )\n\n    if (this.message.getAttribute('class').indexOf('active') < 0) {\n      switch (key) {\n        case 'left':\n          degrees = degrees - this.multiplier / 4\n          break\n        case 'right':\n          degrees = degrees + this.multiplier / 4\n          break\n        default:\n          break\n      }\n\n      document.getElementById('boat').setAttribute('class', 'moving')\n\n      setTimeout(() => {\n        if (document.getElementById('boat')) {\n          document.getElementById('boat').removeAttribute('class')\n        }\n      }, 2000)\n\n      newState.boat.transform = 'rotate(' + degrees + 'deg)'\n\n      this.setState(newState)\n    }\n  }\n\n  /**\n   * Method adjusts the degree value of the transform: rotate() style attribute.\n   * @param  {object} e     event object\n   * @param  {int} deltaX   delta x position\n   * @param  {int} deltaY   delta y position\n   *\n   * @see https://github.com/dogfessional/react-swipeable#event-props\n   */\n  _handleRotate = (rotate) => {\n    this._handleKeyPress(rotate)\n  }\n\n  /**\n   * Method to determine if given coordinates is a land coolision.\n   * @param  {integer}  x [description]\n   * @param  {integer}  y [description]\n   * @return {Boolean}   true is \"yes land collision\"\n   */\n  _isLandCollision = (x, y) => {\n    if (this.state.stage === 2) {\n      x = parseInt(x, 10)\n      y = parseInt(y, 10)\n    }\n    const color = this._getPixel(x, y)\n\n    return color !== 'ffffff'\n  }\n\n  /**\n   * Add in additional keyboard controls.\n   */\n  _keyboardPress = (event) => {\n    if (event.key === 'l') {\n      this._handleRotate('left')\n    } else if (event.key === 'r') {\n      this._handleRotate('right')\n    } else if (event.key === 'Enter') {\n      this._onClickDPad('fire')\n    }\n  }\n\n  /**\n   * Loads the outline image and draws it on the canvas.\n   */\n  _loadImage = () => {\n    const image = new Image()\n    const context = this.canvas.getContext('2d')\n\n    context.clearRect(0, 0, this.canvasWidth, this.canvasHeight)\n\n    image.onload = () => {\n      context.drawImage(image, 0, 0, this.canvasWidth, this.canvasHeight)\n    }\n\n    image.src =\n      this.props.map === 1\n        ? canvasImg1\n        : this.props.map === 2\n          ? canvasImg2\n          : canvasImg3\n    image.width = this.canvasWidth\n    image.height = this.canvasHeight\n  }\n\n  /**\n   * Calculates where and how far the boat should move.\n   * @param  {string} direction string telling us which direction we're wanting to move the boat.\n   * @return {event}           state update\n   */\n  _moveBoat = (direction) => {\n    const boat = document.getElementById('boat').getBoundingClientRect()\n    let newState = CloneDeep(this.state)\n\n    document.getElementById('boat').setAttribute('class', 'moving')\n\n    setTimeout(() => {\n      if (document.getElementById('boat')) {\n        document.getElementById('boat').removeAttribute('class')\n      }\n    }, 2000)\n\n    let top = newState.boat.top\n    let left = newState.boat.left\n\n    let adjacent\n    let angle\n    let degrees\n    let opposite\n    let radians\n    let forward\n    let backward\n    let multiplier = this.multiplier\n\n    // Adjusts the speed the boat moves in the direction.\n    if (this.state.stage === 1) {\n      multiplier = this.multiplier + 10\n    }\n\n    let coords = {\n      n: {\n        x: left + boat.width / 4,\n        y: top - multiplier\n      },\n      e: {\n        x: left + multiplier + boat.width / 4,\n        y: top + boat.height / 4\n      },\n      s: {\n        x: left + boat.width / 4,\n        y: top + multiplier + boat.height / 2\n      },\n      w: {\n        x: left - multiplier,\n        y: top + boat.height / 4\n      }\n    }\n\n    if (this.state.stage === 2 && (direction === 'n' || direction === 's')) {\n      let shooterStyle = document\n        .getElementById('shooter-1')\n        .getAttribute('style')\n\n      degrees = parseInt(\n        shooterStyle.substring(\n          shooterStyle.indexOf('(') + 1,\n          shooterStyle.indexOf('deg')\n        ),\n        10\n      )\n      forward = this._getDirection(degrees)\n      backward =\n        degrees >= 0\n          ? this._getDirection(0 - 180 + degrees)\n          : this._getDirection(180 + degrees)\n\n      // convert degrees to radians.\n      angle =\n        Math.abs(degrees) >= 90 ? 180 - Math.abs(degrees) : Math.abs(degrees)\n      radians = Math.abs(angle) * (Math.PI / 180)\n\n      // @see http://mathforum.org/sarah/hamilton/ham.1side.1angle.html\n      // multiplier = hypotenuse.\n      // opposite side.\n      opposite = Math.sin(radians) * multiplier\n      // adjacent side.\n      adjacent = Math.cos(radians) * multiplier\n\n      if (direction === 'n') {\n        direction = this._getDirection(degrees)\n      } else {\n        if (degrees >= 0) {\n          direction = this._getDirection(0 - 180 + degrees)\n        } else {\n          direction = this._getDirection(180 + degrees)\n        }\n      }\n    }\n\n    switch (direction) {\n      case 'n':\n        top = top - multiplier\n        break\n      case 's':\n        top = top + multiplier\n        break\n      case 'w':\n        left = left - multiplier\n        break\n      case 'e':\n        left = left + multiplier\n        break\n      case 'ne':\n        top = top - opposite\n        left = left + adjacent\n        break\n      case 'nw':\n        top = top - opposite\n        left = left - adjacent\n        break\n      case 'se':\n        top = top + opposite\n        left = left + adjacent\n        break\n      case 'sw':\n        top = top + opposite\n        left = left - adjacent\n        break\n      default:\n        break\n    }\n\n    if (this.state.stage === 2) {\n      coords.ne = {\n        x: left + adjacent,\n        y: top - opposite\n      }\n\n      coords.nw = {\n        x: left - adjacent,\n        y: top - opposite\n      }\n\n      coords.se = {\n        x: left + adjacent,\n        y: top + opposite\n      }\n\n      coords.sw = {\n        x: left - adjacent,\n        y: top + opposite\n      }\n    }\n\n    newState.boat.top = top\n    newState.boat.left = left\n\n    if (this.state.stage === 1) {\n      newState.disabled.n =\n        top <= this.minY || this._isLandCollision(coords.n.x, coords.n.y, 'n')\n      newState.disabled.e =\n        left >= this.maxX || this._isLandCollision(coords.e.x, coords.e.y, 'e')\n      newState.disabled.s =\n        top >= this.maxY || this._isLandCollision(coords.s.x, coords.s.y, 's')\n      newState.disabled.w =\n        left <= this.minX || this._isLandCollision(coords.w.x, coords.w.y, 'w')\n    } else {\n      newState.disabled.n = this._isLandCollision(\n        coords[forward].x,\n        coords[forward].y\n      )\n      newState.disabled.e = true\n      newState.disabled.w = true\n      newState.disabled.s = this._isLandCollision(\n        coords[backward].x,\n        coords[backward].y\n      )\n    }\n\n    if (\n      newState.disabled.n === true &&\n      newState.disabled.s === true &&\n      newState.disabled.w === true &&\n      newState.disabled.e === true\n    ) {\n      newState = this.props.mapState\n    }\n\n    this.setState(newState)\n  }\n\n  /**\n   * Method handling when a user clicks the DPad component.\n   * @param  {string} direction\n   * @return {event}           state update\n   */\n  _onClickDPad = (direction) => {\n    const boat = document.getElementById('boat')\n    const shooter = document.getElementById('shooter-' + this.state.stage)\n    const shooterTwin = document.getElementById(\n      'shooter-' + this.state.stage + '-twin'\n    )\n\n    if (document.getElementById('dpad')) {\n      document\n        .getElementById('dpad')\n        .setAttribute('class', 'stage-' + this.state.stage)\n\n      if (this.message.getAttribute('class').indexOf('active') < 0) {\n        switch (direction) {\n          case 'fire':\n          case 'fire-auto':\n            shooter.style.top = parseInt(boat.style.top, 10) + 46 + 'px'\n            shooter.style.left = parseInt(boat.style.left, 10) + 55 + 'px'\n            shooterTwin.style.top = parseInt(boat.style.top, 10) + 46 + 'px'\n            shooterTwin.style.left = parseInt(boat.style.left, 10) + 58 + 'px'\n            shooter.setAttribute('class', 'shooter fire')\n\n            this.audioFire.audioEl.play()\n            this._onFire(this.state.stage, direction)\n            break\n          default:\n            this._moveBoat(direction)\n            break\n        }\n      }\n    }\n  }\n\n  /**\n   * Reaction to clicking the modal messages\n   */\n  _onClickMessage = () => {\n    if (this.message) {\n      const message = this.message.getElementsByTagName('p')\n      this.message.setAttribute('class', 'message active fadeOut animated')\n      setTimeout(() => {\n        if (this.message) {\n          message[0].innerText = null\n          this.message.setAttribute('class', 'message')\n        }\n      }, 750)\n    }\n  }\n\n  /**\n   * Method that handles when a user clicks and is ready to \"fire\" at the targets. Calculates the hit.\n   * @param  {integer} stage 1 or 2\n   * @return {event}       state update\n   */\n  _onFire = (stage, fire) => {\n    const newState = CloneDeep(this.state)\n    const layer = document.getElementById('boat-layer')\n    const layerOffset = document\n      .getElementById('map-layer')\n      .getBoundingClientRect()\n    const shooter = document.getElementById('shooter-' + this.state.stage)\n    const shooterTwin = document.getElementById(\n      'shooter-' + this.state.stage + '-twin'\n    )\n    const targets = document.getElementsByClassName('target-stage-' + stage)\n    const message = this.message.getElementsByTagName('p')\n\n    // Because we want smoother rotations, we have to calculate where the boat is pointing after multiple rotations of the boat.\n    let degrees = parseInt(\n      newState.boat.transform.replace('rotate(', '').replace('deg)', ''),\n      10\n    )\n\n    const direction = this._getDirection(degrees)\n\n    if (\n      this.message.getAttribute('class').indexOf('active') >= 0 ||\n      layer.getAttribute('class')\n    ) {\n      return false\n    }\n\n    layer.setAttribute('class', 'shooting')\n    message[0].innerText = null\n\n    let w = 0\n    let hits = []\n    let fireRange = {}\n\n    let firing = setInterval(() => {\n      w = w + 6\n      shooter.style.width = w + 'px'\n      shooterTwin.style.width = w + 'px'\n\n      let shooterBox = shooterTwin.getBoundingClientRect()\n      let shooterTwinBox = shooter.getBoundingClientRect()\n\n      switch (direction) {\n        case 'w':\n        case 'nw':\n        case 'n':\n          fireRange = {\n            y1: shooterBox.top - layerOffset.top,\n            x1: shooterBox.left,\n            y2: shooterTwinBox.bottom - layerOffset.top,\n            x2: shooterTwinBox.right\n          }\n          break\n        case 'e':\n        case 'se':\n        case 's':\n          fireRange = {\n            y1: shooterBox.bottom - layerOffset.top,\n            x1: shooterBox.right,\n            y2: shooterTwinBox.top - layerOffset.top,\n            x2: shooterTwinBox.left\n          }\n          break\n        case 'ne':\n        case 'sw':\n          fireRange = {\n            y1: shooterBox.top - layerOffset.top,\n            x1: shooterBox.right,\n            y2: shooterTwinBox.bottom - layerOffset.top,\n            x2: shooterTwinBox.left\n          }\n          break\n        default:\n          break\n      }\n\n      for (let i = 0; i < targets.length; i++) {\n        let targetBox = targets[i].getBoundingClientRect()\n        let targetRange = {\n          y: targetBox.top - layerOffset.top + targetBox.height / 2,\n          x: targetBox.left + targetBox.width / 2\n        }\n\n        let offset = targetBox.width\n        let check =\n          (targetRange.y >= fireRange.y1 - offset &&\n            targetRange.y <= fireRange.y1 + offset &&\n            (targetRange.x >= fireRange.x1 - offset &&\n              targetRange.x <= fireRange.x1 + offset)) ||\n          (targetRange.y >= fireRange.y2 - offset &&\n            targetRange.y <= fireRange.y2 + offset &&\n            (targetRange.x >= fireRange.x2 - offset &&\n              targetRange.x <= fireRange.x2 + offset))\n\n        if (check === true && hits.indexOf(targets[i]) === -1) {\n          hits.push(targets[i])\n        }\n      }\n\n      // Clear our interval if both ranges are outside of our canvas area.\n      if (\n        (fireRange.y1 > layerOffset.bottom && fireRange.y2 < 0) ||\n        (fireRange.y2 > layerOffset.bottom && fireRange.y1 < 0) ||\n        (fireRange.x1 < 0 && fireRange.x2 > layerOffset.right) ||\n        (fireRange.x2 < 0 && fireRange.x1 > layerOffset.right) ||\n        w > 1333\n      ) {\n        clearInterval(firing)\n\n        if (hits.length === targets.length && hits.length !== 0) {\n          if (stage === 1) {\n            message[0].innerText =\n              'You are in sight of the first location. Now line up with the other two landmarks!'\n            if (this.message) {\n              this.message.setAttribute(\n                'class',\n                'message active success stage-' +\n                  stage +\n                  ' ' +\n                  fire +\n                  ' fadeIn animated'\n              )\n            }\n\n            newState.stage = 2\n            newState.disabled.n = false\n            newState.disabled.e = true\n            newState.disabled.w = true\n            newState.disabled.s = false\n\n            let clone = layer\n              .getElementsByClassName('shooter')[0]\n              .cloneNode(true)\n            let clone2 = layer\n              .getElementsByClassName('shooter')[1]\n              .cloneNode(true)\n            shooter.setAttribute('id', 'shooter-2')\n            shooter.setAttribute('class', 'shooter')\n            shooter.setAttribute(\n              'style',\n              'width: 0px; transform: rotate(' +\n                degrees +\n                'deg); bottom: ' +\n                this.state.boat.bottom +\n                'px; right:' +\n                this.state.boat.right +\n                'px'\n            )\n            shooterTwin.setAttribute('id', 'shooter-2-twin')\n            shooterTwin.setAttribute('class', 'shooter')\n            shooterTwin.setAttribute(\n              'style',\n              'width: 0px; transform: rotate(' +\n                degrees +\n                'deg); bottom: ' +\n                this.state.boat.bottom +\n                'px; right:' +\n                this.state.boat.right +\n                'px'\n            )\n\n            layer.appendChild(clone)\n            layer.appendChild(clone2)\n          } else {\n            message[0].innerText =\n              'You found it! Drop your line, itâ€™s time to fish.'\n\n            if (this.message && document.getElementById('boat')) {\n              this.message.setAttribute(\n                'class',\n                'message active success stage-' +\n                  stage +\n                  'a map-' +\n                  this.props.map +\n                  ' fadeIn animated'\n              )\n              document\n                .getElementById('boat')\n                .setAttribute('class', 'boat found')\n\n              setTimeout(() => {\n                if (document.getElementById('boat')) {\n                  document\n                    .getElementById('boat')\n                    .setAttribute('class', 'boat found')\n                }\n\n                message[0].innerText =\n                  this.props.map <= 2\n                    ? 'Would you like to try the next map?'\n                    : \"You've found all the Ã©et. Thanks for playing!\"\n                if (this.message) {\n                  this.message.setAttribute(\n                    'class',\n                    'message active success stage-' +\n                      stage +\n                      ' map-' +\n                      this.props.map +\n                      ' fadeIn animated'\n                  )\n                }\n              }, 4000)\n            }\n          }\n\n          this.setState(newState)\n          layer.removeAttribute('class')\n        } else {\n          message[0].innerText = 'Oops! You missed. Keep trying.'\n\n          if (this.message && shooter && shooterTwin) {\n            this.message.setAttribute(\n              'class',\n              'message active fail stage-' + stage + ' fadeIn animated'\n            )\n\n            shooter.style.width = 0\n            shooterTwin.style.width = 0\n            shooter.setAttribute('class', 'shooter')\n            shooterTwin.setAttribute('class', 'shooter')\n            for (let i = 0; i < targets.length; i++) {\n              targets[i].setAttribute('style', '')\n            }\n          }\n\n          layer.removeAttribute('class')\n        }\n      }\n    }, 0.001)\n  }\n\n  /**\n   * Resets the map state.\n   */\n  _resetMapState = () => {\n    this.setState(this.props.mapState)\n  }\n\n  render = () => {\n    let degrees = this._getDegrees()\n\n    return (\n      <div className='wrapper-game'>\n        <DPad\n          handleKeyPress={this._handleKeyPress}\n          handleRotate={this._handleRotate}\n          onClick={this._onClickDPad}\n          disabled={this.state.disabled}\n          ready={this.state.ready}\n          rotation={this.state.boat.transform}\n          stage={this.state.stage}\n          map={this.props.map}\n        />\n\n        <canvas\n          ref={(e) => {\n            this.canvas = e\n          }}\n          id='map-layer'\n          width={this.canvasWidth}\n          height={this.canvasHeight}\n        />\n        <div\n          id='map'\n          className={`activity-content animated map-${this.props.map}`}>\n          <Target name='clue1' stage='1' current={this.state.stage} />\n          <Target name='clue2' stage='1' current={this.state.stage} />\n          <Target name='clue3' stage='2' current={this.state.stage} />\n          <Target name='clue4' stage='2' current={this.state.stage} />\n\n          <Boat\n            styles={this.state.boat}\n            stage={this.state.stage}\n            degrees={this._getCorrectRotation(degrees)}\n          />\n\n          <div id='air-layer' />\n\n          <div\n            ref={(m) => {\n              this.message = m\n            }}\n            className='message'>\n            <p />\n            <Button\n              label='Ok'\n              onClick={() => {\n                this._onClickMessage()\n              }}\n            />\n            <Button label='Do It For Me' onClick={() => this._doItForMe()} />\n            <Button\n              label='Next Map'\n              onClick={() => {\n                this.props.updateMap(this.props.map + 1)\n              }}\n            />\n            <Button\n              label='Restart'\n              onClick={() => this.props.updateMap(1)}\n            />\n          </div>\n        </div>\n\n        <AudioPlayer\n          src={process.env.PUBLIC_URL + '/assets/audio/lineup-water.mp3'}\n          autoPlay\n          controls={false}\n          loop\n          volume={0.3}\n        />\n\n        <AudioPlayer\n          ref={(e) => {\n            this.audioFire = e\n          }}\n          src={process.env.PUBLIC_URL + '/assets/audio/lineup-fire.mp3'}\n          autoPlay={false}\n          controls={false}\n          controlsList='nodownload'\n        />\n      </div>\n    )\n  }\n}\n\nGame.propTypes = {\n  map: PropTypes.number,\n  mapState: PropTypes.object,\n  updateMap: PropTypes.func\n}\n\nexport default Game\n","import React, { Component } from 'react'\nimport debounce from 'lodash.debounce'\nimport PropTypes from 'prop-types'\n\n/**\n * Game Header.\n * @type {Object}\n */\n\nclass Header extends Component {\n  constructor (props) {\n    super(props)\n\n    this.debounceAction = debounce(this._handleClick, 500)\n  }\n\n  /**\n   * Handles a debounced click action.\n   * @param {string} type string that determines which method to call on user click.\n   */\n  _handleClick (type) {\n    if (type === 'info') {\n      this.props.infoClick()\n    }\n  }\n\n  render () {\n    return (\n      <div className='header'>\n        <h1>{this.props.title}</h1>\n        <em>\n          A game developed for{' '}\n          <a\n            href='https://www.sealaskaheritage.org/'\n            target='_blank'\n            rel='noopener noreferrer'>\n            The Sealaska Heritage Institute\n          </a>{' '}\n          by{' '}\n          <a\n            href='https://interactiveknowledge.com'\n            target='_blank'\n            rel='noopener noreferrer'>\n            Interactive Knowledge\n          </a>\n          . All rights reserved.\n        </em>\n        <div className='info' onClick={() => this.debounceAction('info')}>\n          How to Play\n        </div>\n      </div>\n    )\n  }\n}\n\nHeader.propTypes = {\n  infoClick: PropTypes.func,\n  title: PropTypes.string\n}\n\nexport default Header\n","import React, { Component } from 'react'\nimport debounce from 'lodash.debounce'\nimport PropTypes from 'prop-types'\n\nimport Button from './Button'\n\n/**\n * Modal component is a generic modal that can be used sitewide.\n * @type {Object}\n */\n\nclass Modal extends Component {\n  constructor (props) {\n    super(props)\n\n    this.debounceAction = debounce(this._handleClick, 500)\n  }\n\n  /**\n   * Handles a debounced click action.\n   * @param {string} type string that determines which method to call on user click.\n   */\n  _handleClick = type => {\n    if (type === 'close') {\n      this.props.close()\n    }\n  }\n\n  render () {\n    return (\n      <div id='modal' className='modal'>\n        <div id='modal-foreground' className='modal-foreground'>\n          <div className='close' onClick={() => this.debounceAction('close')}>\n            Close\n          </div>\n\n          <div id='modal-inner' className='modal-inner'>\n            <h1>How To Play This Game</h1>\n            <div className='text'>\n              <p>\n                Drive your boat with the â€œ<strong>MOVE</strong>â€ control or use the arrow keys.\n              </p>\n              <p>\n                Rotate your boat with the â€œ<strong>TURN</strong>â€ control or â€œ<strong>L</strong>â€ and â€œ<strong>R</strong>â€ keys.{' '}\n              </p>\n              <p>\n                When you are positioned for the line-up, press the â€œ\n                <strong>FOUND IT</strong>â€ or â€œ<strong>ENTER</strong>â€ key.\n              </p>\n            </div>\n            <Button\n              label='Ok'\n              onClick={() => {\n                this.debounceAction('close')\n              }}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nModal.propTypes = {\n  close: PropTypes.func\n}\n\nexport default Modal\n","import React, { Component } from 'react'\n\n/**\n * GameLineup - Finding a Line Up.\n * User views a short intro and then is directed to three Line Up interactives.\n * @type {Object}\n * @see Game.js\n */\n\nimport Game from './elements/Game'\nimport Header from './elements/Header'\nimport Modal from './elements/Modal'\n\nconst data = {\n  maps: [\n    {\n      boat: { top: 580, left: 800, transform: 'rotate(45deg)' },\n      disabled: { n: false, e: true, s: true, w: false },\n      ready: 'ready',\n      stage: 1\n    },\n    {\n      boat: { top: 580, left: 220, transform: 'rotate(135deg)' },\n      disabled: { n: false, e: false, s: true, w: true },\n      ready: 'ready',\n      stage: 1\n    },\n    {\n      boat: { top: 580, left: 800, transform: 'rotate(0deg)' },\n      disabled: { n: false, e: true, s: true, w: false },\n      ready: 'ready',\n      stage: 1\n    }\n  ]\n}\n\nclass Lineup extends Component {\n  state = {\n    map: 1,\n    mapState: data.maps[0]\n  }\n\n  componentDidMount = () => {\n    this._updateMap(1)\n  }\n\n  /**\n   * Method that hides the help modal.\n   */\n  _closeModal = () => {\n    const modal = document.getElementById('modal')\n\n    modal.setAttribute('class', 'fadeOut animated modal')\n    setTimeout(() => {\n      if (modal) {\n        modal.setAttribute('style', 'display:none;')\n      }\n    }, 1000)\n  }\n\n  /**\n   * Loads the sky and randomly pladces birds and clouds.\n   */\n  _loadSky = () => {\n    const air = document.getElementById('air-layer')\n    const clouds = Math.floor(Math.random() * 3) + 1\n    const birds = Math.floor(Math.random() * 2) + 1\n    const min = 40\n    const max = 60\n\n    if (air) {\n      air.innerText = null\n\n      for (let i = 0; i < clouds; i++) {\n        let cloud = document.createElement('div')\n        let locationTop = Math.floor(Math.random() * 780)\n        let locationLeft = Math.floor(Math.random() * 900)\n        let transition = Math.floor(Math.random() * (max - min + 1) + min)\n        let moveTop = Math.floor(\n          Math.random() * (1000 - locationTop + 1) + locationTop\n        )\n\n        cloud.setAttribute(\n          'class',\n          'cloud cloud-' + (Math.floor(Math.random() * 3) + 1)\n        )\n        cloud.setAttribute(\n          'style',\n          'top: ' +\n            locationTop +\n            'px; left: ' +\n            locationLeft +\n            'px; transition: all ' +\n            transition +\n            's linear;'\n        )\n        air.appendChild(cloud)\n\n        setTimeout(() => {\n          if (cloud) {\n            cloud.setAttribute(\n              'style',\n              'top: ' +\n                moveTop +\n                'px; left: 1900px; transition: all ' +\n                transition +\n                's linear;'\n            )\n          }\n        })\n      }\n\n      for (let i = 0; i < birds; i++) {\n        let bird = document.createElement('div')\n        let locationTop = Math.floor(Math.random() * 780)\n        let locationLeft = Math.floor(Math.random() * 900)\n        let transition = Math.floor(Math.random() * (max - min + 1) + min)\n        let birdMoveTop = Math.random() < 0.51 ? -200 : 1000\n        let birdMoveLeft = Math.random() < 0.51 ? -200 : 1000\n        let transform = null\n\n        if (locationTop < 100) {\n          locationTop = 200\n        }\n\n        if (birdMoveTop > 0 && birdMoveLeft > 0) {\n          transform = -145\n        } else if (birdMoveTop > 0 && birdMoveLeft < 0) {\n          transform = -45\n        } else if (birdMoveTop < 0 && birdMoveLeft > 0) {\n          transform = 145\n        } else if (birdMoveTop < 0 && birdMoveLeft < 0) {\n          transform = 45\n        }\n\n        bird.setAttribute(\n          'class',\n          'bird bird-' + (Math.floor(Math.random() * 3) + 1)\n        )\n        bird.setAttribute(\n          'style',\n          'top: ' +\n            locationTop +\n            'px; left: ' +\n            locationLeft +\n            'px; transform: rotate(' +\n            transform +\n            'deg);'\n        )\n        air.appendChild(bird)\n\n        setTimeout(() => {\n          if (bird) {\n            bird.setAttribute(\n              'style',\n              'top: ' +\n                birdMoveTop +\n                'px; left: ' +\n                birdMoveLeft +\n                'px; transform: rotate(' +\n                transform +\n                'deg); transition: all ' +\n                transition +\n                's linear;'\n            )\n          }\n        }, 500)\n      }\n    } else {\n      setTimeout(() => {\n        if (document.getElementById('air-layer')) {\n          this._loadSky()\n        }\n      }, 500)\n    }\n  }\n\n  /**\n   * Method that shows the help modal.\n   */\n  _getModal = () => {\n    const modal = document.getElementById('modal')\n\n    modal.setAttribute('style', 'display:block;')\n    modal.setAttribute('class', 'fadeIn animated modal')\n  }\n\n  /**\n   * Updates the map state. (Sets the map number to show)\n   * @param  {integer} map the number of the map that the user is currently on.\n   */\n  _updateMap = map => {\n    this.setState({\n      started: true,\n      map: map,\n      mapState: data.maps[map - 1]\n    })\n\n    const message = document.getElementsByClassName('message')\n\n    if (message.length > 0) {\n      message[0].setAttribute('class', 'message active fadeOut animated')\n      setTimeout(() => {\n        if (message) {\n          message[0].setAttribute('class', 'message')\n        }\n      }, 750)\n    }\n\n    document.getElementById('boat').setAttribute('class', '')\n\n    this._loadSky()\n  }\n\n  render () {\n    return (\n      <div className='lineup-game'>\n        <div\n          className={\n            'activity-content animated activity-lineup activity-map-' +\n            this.state.map\n          }\n        >\n          <Header\n            title='Find a Line-Up'\n            infoClick={() => this._getModal(0, false)}\n          />\n          {this.state.mapState && (\n            <Game\n              map={this.state.map}\n              updateMap={this._updateMap}\n              mapState={this.state.mapState}\n            />\n          )}\n\n          <Modal\n            close={() => {\n              this._closeModal()\n            }}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Lineup\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport Lineup from './Lineup'\n\nimport './styles/styles.scss'\n\nfunction App () {\n  return (\n    <div className='App'>\n      <Lineup />\n    </div>\n  )\n}\n\nconst rootElement = document.getElementById('root')\nReactDOM.render(<App />, rootElement)\n"],"sourceRoot":""}